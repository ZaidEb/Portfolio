@import "tailwindcss";
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --card-ease: cubic-bezier(.2, .9, .2, 1);
    --font-sans: "PP Neue Montreal", "Space Grotesk", system-ui, -apple-system, sans-serif;
    --font-mono: "TheGoodMonolith", ui-monospace, SFMono-Regular, Menlo, monospace;
    --text-primary: #f5efcf;
    --text-secondary: #d4c89a;
    --text-muted: #a89a6a;
    --text-disabled: #766a44;
    --accent: #ffcc00;
    --accent-contrast: #0b0b0b;
    --icon-filter: brightness(0) invert(1);
    --bg-main: #0b0b0b;
    --surface: #121212;
    --surface-alt: #161616;
    --border-subtle: #2a2a2a;
    --header-bg: rgba(11, 11, 11, 0.9);
    --hero-text: #ffcc00;
    --hero-bg: #0b0b0b;
    --hero-highlight: #ffcc00;
    --hero-frame-opacity: 0.4;
    --hero-wave-opacity: 0.75;
    --hero-gradient: linear-gradient(to top, rgba(0, 0, 0, 1) 0%, rgba(0, 0, 0, 0) 100%);
    --hero-card-bg: rgba(255, 255, 255, 0.06);
    --hero-card-border: rgba(255, 204, 0, 0.2);
    --hero-card-text: #ffcc00;
    --hero-card-muted: rgba(255, 245, 205, 0.65);
  }

  :root[data-theme="light"] {
    --text-primary: #1c1a16;
    --text-secondary: #3d3527;
    --text-muted: #6b5e45;
    --text-disabled: #9a8a65;
    --accent: #d1a200;
    --accent-contrast: #1c1a16;
    --icon-filter: none;
    --bg-main: #f7f3e8;
    --surface: #ffffff;
    --surface-alt: #f2eee4;
    --border-subtle: #e3d9c3;
    --header-bg: rgba(247, 243, 232, 0.92);
    --hero-text: #1c1a16;
    --hero-bg: #f7f3e8;
    --hero-highlight: #d1a200;
    --hero-frame-opacity: 0.18;
    --hero-wave-opacity: 0.35;
    --hero-gradient: linear-gradient(to top, rgba(247, 243, 232, 1) 0%, rgba(247, 243, 232, 0) 100%);
    --hero-card-bg: rgba(255, 255, 255, 0.9);
    --hero-card-border: rgba(209, 162, 0, 0.2);
    --hero-card-text: #1c1a16;
    --hero-card-muted: #6b5e45;
  }

  body {
    font-family: var(--font-sans);
    color: var(--text-primary);
    background-color: var(--bg-main);
  }

  p {
    color: var(--text-secondary);
  }

  small,
  .text-xs,
  .text-sm {
    color: var(--text-muted);
  }

  /* Semantic color classes - use these instead of slate/sky overrides */
  .text-theme-primary {
    color: var(--text-primary);
  }

  .text-theme-secondary {
    color: var(--text-secondary);
  }

  .text-theme-muted {
    color: var(--text-muted);
  }

  .text-theme-disabled {
    color: var(--text-disabled);
  }

  .text-theme-accent {
    color: var(--accent);
  }

  input,
  textarea,
  button {
    font-family: var(--font-sans);
    color: var(--text-primary);
  }

  code,
  pre {
    font-family: var(--font-mono);
  }
}

@layer components {
  /* Hero Section */
  .hero {
      @apply relative min-h-screen overflow-hidden flex items-center justify-center px-6;
      background-color: var(--hero-bg);
      color: var(--hero-text);
  }

  .hero-sliced .hero-backgrounds {
      @apply absolute inset-0;
      z-index: 0;
  }

  .hero-sliced .background-frame {
      @apply absolute inset-0;
      background-image: url("https://assets.codepen.io/7558/web03.webp");
      background-size: cover;
      background-position: center;
      opacity: var(--hero-frame-opacity);
      pointer-events: none;
  }

  .hero-sliced .bottom-gradient {
      @apply absolute bottom-0 left-0 w-full;
      height: 40vh;
      background: var(--hero-gradient);
      z-index: 1;
      pointer-events: none;
  }

  .hero-sliced .background-image {
      @apply absolute inset-0;
      background-size: cover;
      background-position: center;
      opacity: 0;
      z-index: 1;
      mix-blend-mode: multiply;
      transition: opacity 0.8s ease-in-out;
      pointer-events: none;
  }

  .hero-sliced .background-image.default {
      background-image: url("https://assets.codepen.io/7558/wave-bg-001.webp");
      opacity: var(--hero-wave-opacity);
  }

  .hero-sliced .background-image.focus {
      background-image: url("https://assets.codepen.io/7558/wave-bg-002.webp");
  }

  .hero-sliced .background-image.presence {
      background-image: url("https://assets.codepen.io/7558/wave-bg-003.webp");
  }

  .hero-sliced .background-image.feel {
      background-image: url("https://assets.codepen.io/7558/wave-bg-004.webp");
  }

  .hero-sliced .text-background {
      @apply absolute inset-0;
      z-index: 2;
      pointer-events: none;
  }

  .hero-sliced .text-item {
      position: absolute;
      color: var(--hero-text);
      font-size: 0.8rem;
      text-transform: uppercase;
      opacity: 0.8;
      white-space: nowrap;
      font-family: "TheGoodMonolith", monospace;
      z-index: 0;
  }

  .hero-sliced .text-item::after {
      content: "";
      position: absolute;
      top: -2px;
      left: -4px;
      width: 0;
      height: calc(100% + 4px);
      background-color: var(--hero-highlight);
      z-index: 1;
      transition: width 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  .hero-sliced .text-item.highlight::after {
      width: calc(100% + 8px);
  }

  .hero-sliced .text-item.highlight-reverse::after {
      width: 0;
      right: -4px;
      left: auto;
  }

  .hero-sliced .main-content {
      @apply relative z-10 flex flex-col items-center justify-center text-center;
      min-height: 100vh;
      width: 100%;
  }

  .hero-sliced .sliced-container {
      @apply relative w-full max-w-5xl mx-auto;
      transform: translateZ(0);
  }

  .hero-sliced .text-row {
      @apply relative flex items-center justify-center;
      height: 140px;
      margin: 8px 0;
      overflow: visible;
      z-index: 3;
  }

  .hero-sliced .text-content {
      @apply uppercase;
      font-family: "Longsile", sans-serif;
      font-size: clamp(3.5rem, 12vw, 10rem);
      font-weight: normal;
      color: var(--hero-text);
      letter-spacing: 0px;
      line-height: 0.9;
      transition: letter-spacing 0.5s ease;
      transform: translate3d(0, 0, 0);
      visibility: visible;
  }

  .hero-sliced .text-row:hover .text-content {
      letter-spacing: 5px;
  }

  .hero-tagline {
      font-family: "PP Neue Montreal", sans-serif;
      letter-spacing: 0.45em;
      text-transform: uppercase;
      font-size: 0.85rem;
      margin-top: 0.5rem;
      color: var(--text-muted);
  }

  .hero-text {
      @apply mt-6 max-w-xl;
      color: var(--text-secondary);
  }

  .scramble-line {
      @apply mt-6 inline-flex flex-wrap items-center gap-2 rounded-full px-4 py-2;
      font-family: var(--font-mono);
      font-size: 0.85rem;
      letter-spacing: 0.18em;
      text-transform: uppercase;
      color: var(--text-primary);
      background: rgba(255, 204, 0, 0.08);
      border: 1px solid rgba(255, 204, 0, 0.35);
  }

  .scramble-label {
      color: rgba(255, 204, 0, 0.85);
  }

  .scramble-output {
      min-width: 18ch;
      display: inline-block;
  }

  .scramble-cursor {
      display: inline-block;
      margin-left: 2px;
      animation: scramble-blink 1s step-end infinite;
  }

  @keyframes scramble-blink {
      50% {
          opacity: 0;
      }
  }

  .hero-buttons {
      @apply flex justify-center gap-4 mt-8;
  }

  .btn-primary {
      @apply px-5 py-2.5 rounded-lg font-medium text-base transition;
      background-color: var(--accent);
      color: var(--accent-contrast);
      border: 1px solid var(--accent);
      box-shadow: 0 12px 24px rgba(255, 204, 0, 0.18);
  }

  .btn-primary:hover {
      background-color: #f4b800;
      border-color: #f4b800;
  }

  .btn-secondary {
      @apply px-5 py-2.5 rounded-lg font-medium text-base transition;
      background-color: transparent;
      color: var(--accent);
      border: 1px solid rgba(255, 204, 0, 0.5);
  }

  .btn-secondary:hover {
      background-color: rgba(255, 204, 0, 0.08);
      border-color: rgba(255, 204, 0, 0.8);
  }

  .hero-cards {
      @apply grid grid-cols-2 justify-center gap-4 mt-16;
      grid-template-columns: repeat(2, minmax(0, max-content));
  }

  .card {
      @apply px-6 py-4 rounded-lg border text-center w-[200px];
      background-color: var(--surface-alt);
      border-color: var(--border-subtle);
  }

  .hero-sliced .card {
      background-color: var(--hero-card-bg);
      border-color: var(--hero-card-border);
      color: var(--hero-card-text);
  }

  .card h3 {
      @apply font-bold text-[1.75rem] mb-0.5;
      color: var(--text-primary);
  }

  .hero-sliced .card h3 {
      color: var(--hero-card-text);
  }

  .card p {
      @apply text-xs;
      color: var(--text-muted);
  }

  .hero-sliced .card p {
      color: var(--hero-card-muted);
  }

  @media screen and (max-width: 992px) {
      .hero-sliced .text-row {
          height: 110px;
      }

      .hero-sliced .text-content {
          font-size: clamp(3rem, 11vw, 7rem);
      }
  }

  @media screen and (max-width: 768px) {
      .hero-sliced .text-row {
          height: 80px;
      }

      .hero-sliced .text-content {
          font-size: clamp(2.5rem, 10vw, 5rem);
      }

      .hero-tagline {
          letter-spacing: 0.3em;
      }

      .hero-cards {
          @apply mt-10;
      }
  }

  @media screen and (max-width: 480px) {
      .hero-sliced .text-row {
          height: 60px;
      }

      .hero-sliced .text-content {
          font-size: clamp(2rem, 9vw, 3.5rem);
      }
  }

  /* Team Section */
  .team {
      @apply py-16;
      background-color: var(--bg-main);
      color: var(--text-primary);
  }

  .team-content {
      @apply text-center max-w-6xl mx-auto px-6;
  }

  .team-title {
      @apply text-5xl font-bold;
      color: var(--accent);
  }

  .team-text {
      @apply mt-3 mb-12;
      color: var(--text-secondary);
  }

  .team-cards {
      @apply grid grid-cols-1 md:grid-cols-3 gap-8 mb-12;
  }

  .team-card {
      @apply p-6 text-center rounded-2xl border shadow-sm;
      background-color: var(--surface);
      border-color: var(--border-subtle);
      box-shadow: 0 14px 30px rgba(0, 0, 0, 0.35);
  }

  .team-card-img { 
      @apply w-25 h-25 mx-auto object-cover mb-8 mt-4; 
      background: linear-gradient(135deg, rgba(255, 204, 0, 0.2), rgba(255, 204, 0, 0.02));
      border: 1px solid rgba(255, 204, 0, 0.25);
  }

  .team-card-name {
      @apply text-xl mb-1 font-bold;
      color: var(--text-primary);
  }

  .team-card-role {
      @apply mb-4;
      color: var(--text-muted);
  }

  .skill-card { 
      @apply px-2 py-0.5 text-[0.75rem] mb-2 rounded-full;
      background-color: rgba(255, 204, 0, 0.12);
      color: rgba(255, 204, 0, 0.8);
      border: 1px solid rgba(255, 204, 0, 0.2);
  }

  .skills-row { 
      @apply flex justify-center gap-1 flex-wrap mb-4; 
  }

  .team-buttons {
      @apply flex justify-center gap-2 mt-4;
  }

  .team-buttons button,
  .team-buttons a {
      @apply flex items-center justify-center mb-4 rounded-lg transition;
      padding: 0.5rem !important;
      font-size: 0.875rem !important;
      font-weight: 500;
      background-color: var(--surface-alt) !important;
      border: 1px solid rgba(255, 204, 0, 0.2) !important;
      color: var(--accent) !important;
  }

  .team-buttons button:hover,
  .team-buttons a:hover {
      background-color: rgba(255, 204, 0, 0.12) !important;
      border-color: rgba(255, 204, 0, 0.6) !important;
  }

  .team-buttons .icon {
      filter: var(--icon-filter);
  }

  .icon { 
      @apply w-5 h-5 object-contain block;
  }

  /* Header */
  .header-menu {
      @apply w-full py-4 px-8 fixed top-0 left-0 z-50 transition-opacity duration-300;
      background-color: var(--header-bg);
      color: var(--text-primary);
      border-bottom: 1px solid rgba(255, 204, 0, 0.12);
      backdrop-filter: blur(12px);
  }

  .header-container {
      @apply flex justify-between items-center max-w-7xl mx-auto;
  }

  .header-actions {
      @apply flex flex-wrap items-center gap-4;
  }

  .header-logo {
      @apply text-xl font-bold;
      color: var(--accent);
  }

  .header-nav {
      @apply flex flex-wrap gap-6 text-base;
  }

  .header-nav a {
      @apply transition-colors;
      color: var(--text-secondary);
  }

  .header-nav a:hover {
      color: var(--accent);
  }

  .theme-toggle {
      @apply rounded-full px-4 py-2 text-sm font-medium transition;
      border: 1px solid rgba(255, 204, 0, 0.4);
      background-color: rgba(255, 204, 0, 0.12);
      color: var(--accent);
  }

  .theme-toggle:hover {
      border-color: rgba(255, 204, 0, 0.7);
      background-color: rgba(255, 204, 0, 0.2);
  }

  /* Review Card */
  .review-card {
    @apply relative overflow-hidden border;
    background: radial-gradient(140% 120% at 0% 0%, rgba(255, 204, 0, 0.12), transparent 55%),
      radial-gradient(140% 120% at 100% 0%, rgba(255, 204, 0, 0.06), transparent 60%),
      var(--surface) !important;
    border-color: var(--border-subtle) !important;
    transition: transform 420ms var(--card-ease), box-shadow 420ms var(--card-ease),
      border-color 420ms var(--card-ease);
  }

  .review-card::before {
    content: "";
    @apply absolute -inset-[18%] opacity-0 pointer-events-none;
    background: radial-gradient(120% 120% at 30% 30%, rgba(255, 204, 0, 0.2), transparent 55%),
      radial-gradient(140% 140% at 70% 20%, rgba(255, 204, 0, 0.12), transparent 50%),
      linear-gradient(120deg, rgba(255, 204, 0, 0.08), rgba(15, 23, 42, 0));
    transform: scale(1.05) translateY(12px);
    transition: opacity 520ms var(--card-ease), transform 720ms cubic-bezier(0.16, 1, 0.3, 1);
  }

  .review-card::after {
    content: "";
    @apply absolute inset-[14px] rounded-[18px] border opacity-0 pointer-events-none;
    border-color: rgba(255, 204, 0, 0.2);
    transition: opacity 520ms var(--card-ease);
  }

  .review-card:hover,
  .review-card:focus-visible {
    transform: translateY(-10px);
    box-shadow: 0 12px 28px rgba(0, 0, 0, 0.45);
    border-color: rgba(255, 204, 0, 0.4);
  }

  .review-card:hover::before,
  .review-card:focus-visible::before {
    @apply opacity-100;
    transform: scale(1) translateY(0);
  }

  .review-card:hover::after,
  .review-card:focus-visible::after {
    @apply opacity-100;
  }

  .review-card:focus-visible {
    @apply outline-2 outline-blue-500/45 outline-offset-[6px];
  }

  .review-card .review-content {
    @apply relative z-10;
  }

  .review-card .review-stars {
    @apply tracking-wider;
    color: var(--accent);
  }

  .review-card:hover .review-stars,
  .review-card:focus-visible .review-stars {
    color: #ffd633;
  }

  .review-card input,
  .review-card textarea {
    background-color: var(--surface-alt) !important;
    border-color: var(--border-subtle) !important;
    color: var(--text-primary) !important;
  }

  .review-card input:focus,
  .review-card textarea:focus {
    border-color: rgba(255, 204, 0, 0.7) !important;
    box-shadow: 0 0 0 2px rgba(255, 204, 0, 0.15);
  }

  .review-card button {
    background-color: var(--accent) !important;
    color: var(--accent-contrast) !important;
  }

  .review-card button:hover {
    background-color: #f4b800 !important;
  }

  /* Contact Section */
  #contact .contact-card {
    background-color: var(--surface) !important;
    border-color: var(--border-subtle) !important;
    box-shadow: 0 14px 30px rgba(0, 0, 0, 0.35);
  }

  #contact .contact-card:hover,
  #contact .contact-card:focus-visible {
    border-color: rgba(255, 204, 0, 0.45) !important;
    box-shadow: 0 16px 34px rgba(0, 0, 0, 0.45);
  }

  #contact .contact-icon {
    background-color: rgba(255, 204, 0, 0.12) !important;
    border-color: rgba(255, 204, 0, 0.35) !important;
  }

  #contact .contact-icon svg {
    color: var(--accent) !important;
  }

  #contact input,
  #contact textarea {
    background-color: var(--surface-alt) !important;
    border-color: var(--border-subtle) !important;
    color: var(--text-primary) !important;
  }

  #contact input::placeholder,
  #contact textarea::placeholder {
    color: var(--text-muted);
  }

  #contact input:focus,
  #contact textarea:focus {
    border-color: rgba(255, 204, 0, 0.7) !important;
    box-shadow: 0 0 0 2px rgba(255, 204, 0, 0.15);
  }

  #contact button {
    background-color: var(--accent) !important;
    color: var(--accent-contrast) !important;
  }

  #contact button:hover {
    background-color: #f4b800 !important;
  }

  /* Project Cards */
  .project-card {
    @apply border;
    background-color: var(--surface) !important;
    border-color: var(--border-subtle) !important;
  }

  .project-card .project-overlay {
    @apply opacity-100;
    background: linear-gradient(
      180deg,
      rgba(0, 0, 0, 0.35) 0%,
      rgba(0, 0, 0, 0.65) 75%,
      rgba(0, 0, 0, 0.75) 100%
    );
    transition: opacity 250ms ease, transform 420ms var(--card-ease);
  }

  .project-card a {
    background-color: var(--accent) !important;
    color: var(--accent-contrast) !important;
  }

  .project-card:hover .project-overlay,
  .project-card:focus-visible .project-overlay {
    @apply opacity-100 scale-[1.02];
  }

  .project-card h3 {
    @apply text-white;
    text-shadow: 0 2px 12px rgba(0, 0, 0, 0.45);
  }

  .project-card p {
    @apply text-gray-100;
    text-shadow: 0 1px 10px rgba(0, 0, 0, 0.35);
  }

  /* Services Section */
  .services-section {
    @apply relative overflow-hidden rounded-3xl border p-8 md:p-10;
    background:
      radial-gradient(120% 140% at 0% 0%, rgba(255, 204, 0, 0.16), transparent 55%),
      radial-gradient(120% 140% at 100% 0%, rgba(255, 204, 0, 0.08), transparent 60%),
      var(--surface);
    color: var(--text-primary);
    border-color: var(--border-subtle);
  }

  .services-section::after {
    content: "";
    @apply absolute inset-0 pointer-events-none opacity-60;
    background-image: linear-gradient(120deg, rgba(255, 204, 0, 0.08), rgba(0, 0, 0, 0));
  }

  .services-header {
    @apply relative z-10 flex flex-wrap items-center justify-between gap-4;
  }

  .services-title {
    @apply text-3xl sm:text-4xl md:text-5xl font-semibold tracking-tight;
    color: var(--accent);
  }

  .section-title {
    @apply text-3xl sm:text-4xl md:text-5xl font-semibold tracking-tight;
    color: var(--accent);
  }

  .services-cta {
    @apply inline-flex items-center gap-2 rounded-full border px-5 py-2 text-sm font-medium transition;
    background-color: rgba(255, 204, 0, 0.12);
    color: var(--accent);
    border-color: rgba(255, 204, 0, 0.4);
    box-shadow: 0 8px 18px rgba(0, 0, 0, 0.28);
    backdrop-filter: blur(6px);
  }

  .services-cta:hover,
  .services-cta:focus-visible {
    background-color: rgba(255, 204, 0, 0.2);
    border-color: rgba(255, 204, 0, 0.7);
    color: #ffe27a;
  }

  .services-grid {
    @apply relative z-10 mt-8 grid gap-px overflow-hidden rounded-2xl border border-white/10;
    background-color: rgba(255, 204, 0, 0.16);
    box-shadow: 0 18px 40px rgba(0, 0, 0, 0.4);
    border-color: var(--border-subtle);
  }

  .service-card {
    @apply relative flex flex-col justify-between p-6 transition duration-300;
    background:
      linear-gradient(180deg, rgba(255, 204, 0, 0.08), rgba(255, 255, 255, 0) 55%),
      var(--surface-alt);
    border: 1px solid rgba(255, 204, 0, 0.2);
    color: var(--text-secondary);
    min-height: 210px;
    overflow: hidden;
    box-shadow: inset 0 0 0 1px rgba(255, 204, 0, 0.08);
  }

  .service-card::before {
    content: "";
    position: absolute;
    inset: 0;
    opacity: 0;
    transition: opacity 360ms var(--card-ease), transform 480ms var(--card-ease);
    background: radial-gradient(140% 120% at 0% 0%, rgba(255, 204, 0, 0.22), transparent 60%);
    transform: translateY(6px);
  }

  .service-card:hover {
    transform: translateY(-4px);
    border-color: rgba(255, 204, 0, 0.5);
    box-shadow: 0 12px 30px rgba(0, 0, 0, 0.45);
  }

  .service-card:hover::before {
    opacity: 1;
    transform: translateY(0);
  }

  .service-card > * {
    position: relative;
    z-index: 1;
  }

  .service-card h3 {
    @apply mt-auto text-xl sm:text-2xl font-medium tracking-tight;
    color: var(--text-primary);
  }

  .service-image {
    @apply absolute inset-0 w-full h-full object-cover;
    opacity: 0;
    transition: opacity 400ms ease-in-out;
    z-index: 0;
  }

  .service-card:hover .service-image {
    opacity: 0.85;
  }

  .service-dot {
    @apply h-3 w-3 rounded-full border;
    border-color: rgba(255, 204, 0, 0.7);
    box-shadow: 0 0 10px rgba(255, 204, 0, 0.35);
  }

  @media (min-width: 768px) {
    .service-card {
      min-height: 240px;
    }
  }

  @media (min-width: 1280px) {
    .service-card {
      min-height: 280px;
    }
  }

  /* Smooth Cursor */
  #smooth-cursor {
    @apply fixed inset-0 pointer-events-none z-50 opacity-0 transition-opacity duration-200 ease-out;
  }

  #smooth-cursor .cursor-dot {
    @apply absolute w-2.5 h-2.5 rounded-full;
    background: radial-gradient(circle at 30% 30%, #38bdf8, #0ea5e9 48%, #0284c7);
    box-shadow:
      0 0 22px rgba(14, 165, 233, 0.88),
      0 0 44px rgba(99, 102, 241, 0.45);
    transform: translate3d(-50%, -50%, 0);
  }

  #smooth-cursor .cursor-ring {
    @apply absolute w-[34px] h-[34px] rounded-full border-2 border-sky-400/75;
    box-shadow:
      0 0 28px rgba(56, 189, 248, 0.55),
      0 0 60px rgba(99, 102, 241, 0.35);
    transform: translate3d(-50%, -50%, 0);
    transition: border-color 180ms ease, opacity 200ms ease;
  }

  #smooth-cursor .cursor-ring.is-pressed {
    @apply border-indigo-500/90;
  }

  #smooth-cursor.is-hidden {
    @apply opacity-0;
  }

  .cursor-hint {
    @apply fixed bottom-6 right-6 text-[0.95rem] text-slate-600 pointer-events-none z-40 flex flex-col gap-1;
  }

  .cursor-hint .hint-desktop {
    @apply hidden md:inline;
  }

  .cursor-hint .hint-mobile {
    @apply inline md:hidden;
  }

  .cursor-touch-ping {
    @apply fixed w-[42px] h-[42px] rounded-full border-2 border-sky-400/50 bg-sky-400/10 pointer-events-none z-[45] opacity-70;
    transform: translate(-50%, -50%) scale(0.6);
    animation: cursor-ping 900ms cubic-bezier(.2, .9, .2, 1) forwards;
  }

  @keyframes cursor-ping {
    to {
      transform: translate(-50%, -50%) scale(1.9);
      opacity: 0;
    }
  }

  /* Runaway invader CTA */
  .ad-invader-wrapper {
    --from-x: 0px;
    --from-y: 0px;
    --to-x: 0px;
    --to-y: 0px;
    --move-duration: 1.4s;
    --move-ease: cubic-bezier(.25, .9, .32, 1.04);
    @apply fixed top-0 left-0 z-[70] w-[90px] h-[80px] inline-flex items-center justify-center cursor-pointer select-none;
    transform: translate3d(var(--from-x), var(--from-y), 0);
  }

  .ad-invader-img {
    @apply w-[90px] h-auto block transition-[filter] duration-200 ease-out;
    filter: drop-shadow(0 10px 20px rgba(14, 165, 233, 0.26));
  }

  .ad-invader-wrapper:hover .ad-invader-img {
    filter: drop-shadow(0 14px 26px rgba(99, 102, 241, 0.28));
  }

  .ad-invader-wrapper.is-moving {
    animation: insect-fly var(--move-duration) var(--move-ease) forwards;
  }

  .ad-invader-wrapper.is-dead .ad-invader-img {
    animation: insect-splat 520ms cubic-bezier(.16, 1, .3, 1) forwards;
    filter: none;
  }

  @keyframes insect-fly {
    from {
      transform: translate3d(var(--from-x), var(--from-y), 0);
    }
    45% {
      transform: translate3d(calc((var(--from-x) + var(--to-x)) / 2), calc((var(--from-y) + var(--to-y)) / 2 - 20px), 0)
        rotate(4deg);
    }
    to {
      transform: translate3d(var(--to-x), var(--to-y), 0);
    }
  }

  @keyframes insect-splat {
    0% {
      transform: scale(1) rotate(0deg);
      opacity: 1;
      filter: saturate(1);
    }
    45% {
      transform: scale(1.08) rotate(12deg);
    }
    100% {
      transform: scale(0) rotate(-22deg);
      opacity: 0;
      filter: blur(3px) saturate(0);
    }
  }

  @media (prefers-reduced-motion: reduce) {
    .ad-invader-wrapper,
    .ad-invader-wrapper.is-moving,
    .ad-invader-wrapper.is-dead .ad-invader-img {
      animation-duration: 1ms !important;
      transition: none;
    }
  }

  /* Animations */
  .reveal-effect {
    transition-property: opacity, transform;
    transition-duration: 900ms;
    transition-timing-function: var(--card-ease);
  }
}
